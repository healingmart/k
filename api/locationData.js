/**
 * @file locationData.js
 * @description 제주특별자치도 내 모든 읍·면·동 단위의 행정 지역 데이터를 포함하는 파일.
 * 이 버전은 법정동/리 대신 행정동/읍/면을 주요 데이터 기준으로 삼고,
 * 각 행정구역이 관할하는 법정동/리 정보를 `legal_divisions` 배열에 포함합니다.
 * 기상청 날씨 API 연동, 사용자 입력 대응, 행정 계층 구조 및 우선순위 정렬을 목적으로 합니다.
 * 관광지 정보는 포함하지 않으며, 주소 데이터만 집중적으로 관리합니다.
 * 이 파일은 weather.js에서 `require` 방식으로 임포트될 수 있도록 CommonJS 형식으로 변경되었습니다.
 *
 * 위경도 좌표는 제주 지역의 일반적인 지리 정보와 주요 지점을 기준으로 설정되었으며,
 * 사용자가 제공한 SHP/GeoJSON 원본 데이터의 정밀한 좌표를 직접 파싱한 결과는 아닙니다.
 * (해당 데이터의 완전한 내용 접근 및 자동 파싱을 위해서는 추가적인 파일 제공이 필요합니다.)
 */

/**
 * 위경도를 기상청 격자 좌표로 변환
 * 기상청 단기예보/초단기예보 API의 격자 좌표를 계산하는 공식입니다.
 * @param {number} lat - 위도 (십진수)
 * @param {number} lon - 경도 (십진수)
 * @returns {{nx: number, ny: number}} 격자 좌표 객체 (nx: X 좌표, ny: Y 좌표)
 */
const latLonToGrid = (lat, lon) => {
    const RE = 6371.00877; // 지구 반경 (km)
    const GRID = 5.0;      // 격자 간격 (km)
    const SLAT1 = 30.0;    // 기준점 위도1
    const SLAT2 = 60.0;    // 기준점 위도2
    const OLON = 126.0;    // 원점 경도
    const OLAT = 38.0;     // 원점 위도
    const XO = 43;         // 원점 X 격자
    const YO = 136;        // 원점 Y 격자

    const DEGRAD = Math.PI / 180.0; // 도(degree)를 라디안(radian)으로 변환
    const re = RE / GRID;           // 지구 반경 / 격자 간격
    const slat1 = SLAT1 * DEGRAD;
    const slat2 = SLAT2 * DEGRAD;
    const olon = OLON * DEGRAD;
    const olat = OLAT * DEGRAD;

    let sn = Math.tan(Math.PI * 0.25 + slat2 * 0.5) / Math.tan(Math.PI * 0.25 + slat1 * 0.5);
    sn = Math.log(Math.cos(slat1) / Math.cos(slat2)) / Math.log(sn); // 투영법 상수 n 계산

    let sf = Math.tan(Math.PI * 0.25 + slat1 * 0.5);
    sf = Math.pow(sf, sn) * Math.cos(slat1) / sn; // 투영법 상수 sf 계산

    let ro = re * sf / Math.pow(Math.tan(Math.PI * 0.25 + olat * 0.5), sn); // 원점 위도에서의 반지름 r0 계산

    const ra = re * sf / Math.pow(Math.tan(Math.PI * 0.25 + lat * DEGRAD * 0.5), sn); // 입력 위도에서의 반지름 r 계산
    let theta = lon * DEGRAD - olon; // 경도 차이 계산

    // 경도 차이가 -PI ~ PI 범위에 있도록 조정
    if (theta > Math.PI) theta -= 2.0 * Math.PI;
    if (theta < -Math.PI) theta += 2.0 * Math.PI;
    theta *= sn; // 경도 차이에 n을 곱함

    // 최종 격자 좌표 계산 (반올림하여 정수화)
    return {
        nx: Math.floor(ra * Math.sin(theta) + XO + 0.5),
        ny: Math.floor(ro - ra * Math.cos(theta) + YO + 0.5)
    };
};

/**
 * 전국의 지역 정보를 담는 최종 데이터 객체.
 * 이 객체는 즉시 실행 함수를 통해 초기화됩니다.
 * key는 검색에 사용될 지역명 (별칭 포함), value는 해당 지역의 상세 정보 객체입니다.
 *
 * 각 지역 정보 객체의 속성:
 * @property {string} name - 지역의 공식 명칭 (예: '제주특별자치시 제주시 일도1동')
 * @property {number} lat - 위도
 * @property {number} lon - 경도
 * @property {number} kma_nx - 기상청 격자 X 좌표
 * @property {number} kma_ny - 기상청 Y 좌표
 * @property {'광역자치단체'|'기초자치단체'|'행정동'|'읍'|'면'} type - 지역 유형 (행정동, 읍, 면만 최상위)
 * @property {string} [admin_parent] - 상위 행정 구역의 공식 명칭 (예: '제주특별자치시 제주시')
 * @property {string[]} [legal_divisions] - 해당 행정 구역에 속하는 법정동/리 명칭 배열
 * @property {string[]} [aliases] - 검색을 위한 추가 별칭 배열 (예: ['제주도'])
 * @property {number} [priority_score] - 중복 이름 해결 및 검색 결과 우선순위를 위한 점수 (높을수록 우선)
 */
const locationData = (() => {
    const data = {}; // 최종적으로 빌드될 지역 데이터 객체

  // 우선순위 점수 매핑 (높을수록 중요)
    // 행정동, 읍, 면에 높은 우선순위를 부여합니다.
    const priorityMap = {
        // 제주특별자치도 (최상위 우선순위)
        '제주특별자치도': 1000,
        '제주시': 950,
        '서귀포시': 930,

        // 제주시 행정동/읍/면 (상대적 중요도 및 인구수 고려, KMA 자주 사용 지역)
        '연동': 900, '노형동': 890, '아라동': 880, '이도2동': 870, '일도2동': 860,
        '삼양동': 850, '화북동': 840, '이도1동': 830, '일도1동': 820,
        '삼도1동': 810, '삼도2동': 800, '건입동': 790, '오라동': 780,
        '외도동': 770, '이호동': 760, '도두동': 750, '봉개동': 740,
        '한림읍': 730, '애월읍': 720, '구좌읍': 710, '조천읍': 700,
        '우도면': 690, '추자면': 680, '한경면': 670,

        // 서귀포시 행정동/읍/면 (상대적 중요도 및 인구수 고려, KMA 자주 사용 지역)
        '중문동': 900, '동홍동': 890, '서홍동': 880, '대륜동': 870,
        '천지동': 860, '정방동': 850, '중앙동': 840, '효돈동': 830,
        '영천동': 820, '대천동': 810, '예래동': 800,
        '성산읍': 730, '대정읍': 720, '남원읍': 710, '표선면': 700, '안덕면': 690,

        // 제주 주요 관광지/별칭 (관광지는 행정구역보다 낮은 우선순위)
        '성산일출봉': 700, // 성산읍보다 약간 낮은 우선순위
        '한라산': 800,
        '제주공항': 920,
        '서귀포 매일올레시장': 650,
        '협재해수욕장': 600,
        '새별오름': 580,
        '만장굴': 570,
        '천지연폭포': 560,
        '정방폭포': 550,
        '용머리해안': 540,
        '섭지코지': 530,
        '우도': 520, // 우도면과 중복되지만, 별칭으로 명시적 추가
        '카멜리아힐': 510,
        '테디베어뮤지엄': 500,
        '제주러브랜드': 490,

        // 기타 국립공원 (별도 추가 요청 가능성을 위해 우선순위 유지)
        '지리산국립공원': 800, '북한산국립공원': 790, '계룡산국립공원': 780,
        '설악산국립공원': 770, '오대산국립공원': 760, '주왕산국립공원': 750,
        '내장산국립공원': 740, '가야산국립공원': 730, '덕유산국립공원': 720,
        '월악산국립공원': 710, '소백산국립공원': 700, '치악산국립공원': 690,
        // 기타 전국 주요도시는 별도로 관리될 예정이므로, 이곳에서는 우선순위만 정의.
        // 예를 들어, '서울특별시': 1000, '부산광역시': 980 등은 여기에 남아있어야 합니다.
        '서울특별시': 1000, '종로구': 900, '중구': 900, '용산구': 900, '성동구': 900, '광진구': 900,
        '동대문구': 900, '중랑구': 900, '성북구': 900, '강북구': 900, '도봉구': 900,
        '노원구': 900, '은평구': 900, '서대문구': 900, '마포구': 900, '양천구': 900,
        '강서구': 900, '구로구': 900, '금천구': 900, '영등포구': 900, '동작구': 900,
        '관악구': 900, '서초구': 900, '강남구': 900, '송파구': 900, '강동구': 900,
        '명동': 850, '홍대': 850, '강남': 850, '이태원': 850, '잠실': 850,
        '여의도': 850, '신촌': 850, '동대문': 850, '종로': 850, '종각': 850,
        '경복궁': 850, '남산타워': 850, '남대문시장': 840, '광장시장': 830,
        '가로수길': 830, '코엑스': 830, '인사동': 840, '청담동': 830, '압구정': 830,
        '건대': 820, '신림': 820, '노량진': 820, '왕십리': 820, '합정': 820,
        '부산광역시': 980, '해운대구': 880, '광안리': 840, '서면': 840, '남포동': 840, '태종대': 830, '기장군': 820,
        '자갈치시장': 800, '국제시장': 790, '부산역': 780, '광복로': 770, '범어사': 760,
        '벡스코': 750, '부산항': 740, '깡통시장': 730, '송도해수욕장': 720, '광안대교': 710,
        '감천문화마을': 700, '용두산공원': 690, '부산대학교': 680, '동백섬': 670,
        '기장읍': 810, '장안읍': 810, '정관읍': 810, '일광읍': 810, '철마면': 810,
        '중앙동': 780, '동광동': 770, '대청동': 760, '보수동': 750, '부평동': 740,
        '광복동': 730, '영주제1동': 720, '영주제2동': 710, '동대신제1동': 700,
        '서대신제1동': 700, '아미동': 690, '초장동': 680, '충무동': 670,
        '남부민제1동': 660, '암남동': 650, '초량제1동': 640, '수정제1동': 630,
        '좌천동': 620, '범일제1동': 610, '남항동': 600, '영선제1동': 590,
        '신선동': 580, '봉래제1동': 570, '청학제1동': 560, '동삼제1동': 550,
        '부전제1동': 540, '연지동': 530, '초읍동': 520, '양정제1동': 510,
        '전포제1동': 500, '부암제1동': 490, '당감제1동': 480, '가야제1동': 470,
        '개금제1동': 460, '범천제1동': 450, '수민동': 440, '복산동': 430,
        '명륜동': 420, '온천제1동': 410, '사직제1동': 400, '안락제1동': 390,
        '명장제1동': 380, '대연제1동': 370, '용호제1동': 360, '용당동': 350,
        '감만제1동': 340, '우암동': 330, '문현제1동': 320, '구포제1동': 310,
        '금곡동': 300, '화명제1동': 290, '덕천제1동': 280, '만덕제1동': 270,
        '우제1동': 260, '중제1동': 250, '좌제1동': 240, '송정동': 230,
        '반여제1동': 220, '반송제1동': 210, '재송제1동': 200, '괴정제1동': 190,
        '당리동': 180, '하단제1동': 170, '신평제1동': 160, '장림제1동': 150,
        '다대제1동': 140, '구평동': 130, '감천제1동': 120, '서제1동': 110,
        '금사회동동': 100, '부곡제1동': 90, '장전제1동': 80, '선두구동': 70,
        '청룡노포동': 60, '남산동': 50, '금성동': 40, '대저1동': 30,
        '강동동': 20, '명지1동': 10, '가락동': 5, '녹산동': 4,
        '가덕도동': 3, '신호동': 2, '거제제1동': 1, '연산제1동': 0,
        '남천제1동': -1, '수영동': -2, '망미제1동': -3, '민락동': -4,
        '광안1동': -5, '광안리해수욕장': 840,
        '덕천제2동': 280,
        '용호제2동': 360,
        '대구광역시': 970, '중구대구': 880, '동구대구': 880, '서구대구': 880, '남구대구': 880, '북구': 880,
        '수성구': 870, '달서구': 880, '달성군': 810, '군위군': 800,
        '동성로': 830, '팔공산': 820, '수성못': 820, '서문시장': 830,
        '김광석다시그리기길': 800, '앞산': 790, '대구역': 780, '동대구역': 770,
        '화원읍': 805, '논공읍': 805, '다사읍': 805, '유가읍': 805, '옥포읍': 805,
        '현풍읍': 805, '가창면': 805, '하빈면': 805, '구지면': 805,
        '군위읍': 795, '소보면': 795, '효령면': 795, '부계면': 795, '우보면': 795,
        '의흥면': 795, '산성면': 795, '삼국유사면': 795,
        '인천광역시': 960, '중구인천': 880, '동구인천': 880, '미추홀구': 880, '연수구': 870, '남동구': 880,
        '부평구': 880, '계양구': 880, '서구인천': 880, '강화군': 830, '옹진군': 800,
        '송도': 850, '월미도': 840, '을왕리': 820, '인천공항': 900, '차이나타운': 810,
        '송도국제도시': 840, '청라': 830, '검단': 820, '부평역': 810, '구월동': 800,
        '강화읍': 825, '선원면': 820, '불은면': 820, '길상면': 820, '하점면': 820,
        '양도면': 820, '내가면': 820, '하음면': 820, '송해면': 820, '교동면': 820,
        '삼산면': 820, '서도면': 820, '북도면': 820, '양사면': 820,
        '광주광역시': 950, '동구광주': 880, '서구광주': 880, '남구광주': 880, '북구광주': 880, '광산구': 870,
        '무등산': 850, '충장로': 830, '상무지구': 820, '첨단지구': 810, '광주역': 800,
        '518민주광장': 790, '양동시장': 780, '국립아시아문화전당': 770,
        '대전광역시': 940, '동구대전': 880, '중구대전': 880, '서구대전': 880, '유성구': 850, '대덕구': 880,
        '둔산동': 830, '유성온천': 820, '대전역': 810, '서대전역': 800, '엑스포과학공원': 790,
        '한밭수목원': 780, '계룡산': 770, 'KAIST': 760,
        '울산광역시': 930, '중구울산': 880, '남구울산': 880, '동구울산': 880, '북구울산': 880, '울주군': 820,
        '태화강': 830, '울산대공원': 820, '일산해수욕장': 810, '울산역': 800,
        '현대중공업': 790, '울산석유화학단지': 780,
        '언양읍': 815, '온양읍': 815, '범서읍': 815, '청량읍': 815, '온산읍': 815,
        '웅촌면': 810, '두동면': 810, '두서면': 810, '상북면': 810, '삼남면': 810,
        '삼동면': 810, '서생면': 810,
        '세종특별자치시': 920, '세종시청': 850, '조치원': 840, '연기군': 830, '공주대학교': 820,
        '경기도': 890, '수원시': 800, '성남시': 800, '용인시': 800, '안양시': 800, '안산시': 800,
        '고양시': 800, '화성시': 800, '평택시': 800, '남양주시': 800, '부천시': 800,
        '의정부시': 790, '광명시': 790, '시흥시': 790, '김포시': 790, '군포시': 790,
        '하남시': 790, '오산시': 790, '이천시': 780, '안성시': 780, '구리시': 780,
        '의왕시': 780, '양주시': 780, '동두천시': 770, '과천시': 770, '가평군': 760,
        '양평군': 760, '여주시': 760, '포천시': 750, '연천군': 740,
        '판교': 830, '분당': 830, '일산': 820, '수지': 820, '동탄': 820,
        '광교': 810, '킨텍스': 800, '에버랜드': 790, '한국민속촌': 780, '수원화성': 770,
        '파주출판도시': 760, '헤이리': 750, '임진각': 740, 'DMZ': 730,
        '강원특별자치도': 900, '춘천시': 800, '원주시': 800, '강릉시': 800, '속초시': 800, '동해시': 780,
        '태백시': 770, '삼척시': 770, '홍천군': 760, '횡성군': 750, '영월군': 750,
        '평창군': 740, '정선군': 740, '철원군': 730, '화천군': 730, '양구군': 720,
        '인제군': 720, '고성군': 710, '양양군': 710,
        '설악산국립공원': 750, '오대산국립공원': 740, '정동진': 730, '낙산사': 720,
        '대관령': 710, '평창올림픽파크': 700, '알펜시아': 690, '용평리조트': 680,
        '남이섬': 670, '소양강댐': 660, '청평사': 650, '경포대': 640,
        '충청북도': 880, '청주시': 780, '충주시': 770, '제천시': 760, '보은군': 740, '옥천군': 740,
        '영동군': 730, '증평군': 730, '진천군': 730, '괴산군': 720, '음성군': 720,
        '단양군': 720,
        '월악산': 750, '단양팔경': 740, '충주호': 730, '소백산': 720, '청남대': 710,
        '고수동굴': 700, '온달관광지': 690, '제천의림지': 680,
        '충청남도': 870, '천안시': 770, '공주시': 760, '보령시': 750, '아산시': 750, '서산시': 740,
        '논산시': 730, '계룡시': 730, '당진시': 730, '금산군': 720, '부여군': 720,
        '서천군': 710, '청양군': 710, '홍성군': 710, '예산군': 710, '태안군': 720,
        '태안 안면도': 710, '보령머드축제': 700, '공주무령왕릉': 690, '부여백제문화단지': 680,
        '독립기념관': 670, '온양온천': 660, '덕산온천': 650, '서산마애삼존불': 640,
        '전라북도': 860, '전주시': 760, '군산시': 750, '익산시': 740, '정읍시': 730, '남원시': 720,
        '김제시': 720, '완주군': 710, '진안군': 700, '무주군': 700, '장수군': 690,
        '임실군': 690, '순창군': 690, '고창군': 690, '부안군': 680,
        '전주 한옥마을': 710, '내장산': 700, '덕유산': 690, '마이산': 680, '변산반도': 670,
        '고창갯벌': 660, '무주리조트': 650, '군산근대역사박물관': 640,
        '전라남도': 850, '목포시': 750, '여수시': 740, '순천시': 730, '나주시': 720, '광양시': 710,
        '담양군': 700, '곡성군': 690, '구례군': 690, '고흥군': 680, '보성군': 680,
        '화순군': 680, '장흥군': 670, '강진군': 670, '해남군': 670, '영암군': 670,
        '무안군': 670, '함평군': 660, '영광군': 660, '장성군': 660, '완도군': 650,
        '진도군': 650, '신안군': 640,
        '여수 엑스포': 700, '보성 녹차밭': 690, '순천만': 680, '담양 죽녹원': 670,
        '목포 유달산': 660, '완도 청산도': 650, '진도 울돌목': 640, '해남 땅끝마을': 630,
        '경상북도': 840, '포항시': 740, '경주시': 730, '안동시': 720, '구미시': 710, '영주시': 700,
        '영천시': 690, '상주시': 690, '문경시': 680, '경산시': 680, '군위군': 670,
        '의성군': 670, '청송군': 660, '영양군': 660, '영덕군': 660, '청도군': 650,
        '고령군': 650, '성주군': 650, '칠곡군': 650, '예천군': 640, '봉화군': 640,
        '울진군': 640, '울릉군': 630,
        '경주 역사유적지구': 690, '안동 하회마을': 680, '포항제철소': 670, '불국사': 660,
        '석굴암': 650, '도산서원': 640, '주왕산': 630, '울릉도': 620, '독도': 610,
        '경상남도': 830, '창원시': 730, '진주시': 720, '통영시': 710, '사천시': 700, '김해시': 700,
        '밀양시': 690, '거제시': 690, '양산시': 680, '의령군': 670, '함안군': 670,
        '창녕군': 660, '고성군': 660, '남해군': 650, '하동군': 650, '산청군': 640,
        '함양군': 640, '거창군': 640, '합천군': 630,
        '통영 케이블카': 680, '거제 외도': 670, '남해 독일마을': 660, '진주성': 650,
        '하동 화개장터': 640, '함양 상림': 630, '지리산': 620, '가야산': 610,
    };

    /**
     * 지역 데이터를 추가하는 헬퍼 함수
     * @param {string} key - 데이터 객체의 키 (주로 지역명)
     * @param {Object} locationObj - 지역 상세 정보 객체
     * @param {string} [overrideName] - 실제 저장될 `name` 값 (별칭의 경우 원본 지역의 name 사용)
     */
    const addLocation = (key, locationObj, overrideName = null) => {
        const { lat, lon, name, type, admin_parent, legal_divisions, aliases } = locationObj;
        const { nx, ny } = latLonToGrid(lat, lon);
        
        // 실제 저장될 지역명. overrideName이 있으면 사용하고, 아니면 locationObj의 name 사용.
        const finalName = overrideName || name;
        const finalPriority = priorityMap[key] || 0; // 키에 해당하는 우선순위 사용

        // 이미 더 높은 우선순위의 동일한 키가 있으면 덮어쓰지 않음
        if (data[key] && data[key].priority_score && data[key].priority_score >= finalPriority) {
            return;
        }

        data[key] = {
            name: finalName,
            lat: lat,
            lon: lon,
            kma_nx: nx,
            kma_ny: ny,
            type: type,
            admin_parent: admin_parent,
            legal_divisions: legal_divisions || [], // 법정동/리 목록
            aliases: aliases || [],
            priority_score: finalPriority
        };

        // 별칭도 데이터에 추가 (공식 명칭보다 낮은 우선순위로, 원본 객체 참조)
        (aliases || []).forEach(alias => {
            const aliasPriority = (priorityMap[alias] || 0) || (finalPriority - 10); // 별칭 기본 우선순위
            if (!data[alias] || data[alias].priority_score < aliasPriority) {
                // 별칭은 원본 지역 데이터를 참조하도록 하여 메모리 효율성을 높임
                data[alias] = data[key]; 
                // 참조된 객체에 별칭의 우선순위를 직접 저장 (findMatches에서 활용)
                data[alias].priority = aliasPriority; 
            }
        });

        // legal_divisions에 포함된 법정동/리도 검색 가능하도록 별칭으로 추가
        (legal_divisions || []).forEach(legalDiv => {
            // 법정동/리 이름 자체를 키로 사용하되, 해당 행정동 객체를 참조하도록 함.
            // 이는 법정동/리를 검색했을 때 해당 행정동의 정보가 나오도록 하기 위함.
            // 단, 법정동/리 이름이 이미 다른 (더 높은 우선순위의) 행정동 키로 존재하면 덮어쓰지 않음
            const legalDivPriority = finalPriority - 50; // 법정동은 행정동보다 낮은 우선순위
            if (!data[legalDiv] || data[legalDiv].priority_score < legalDivPriority) { 
                data[legalDiv] = data[key];
                data[legalDiv].priority = legalDivPriority; // 참조된 객체에 우선순위 저장
            }
        });
    };



    


// 부산광역시 행정 데이터
const locationData = [
    // 부산광역시 (광역시)
    { lat: 35.1770194444444, lon: 129.076952777777, name: '부산광역시', kma_nx: 98, kma_ny: 76, type: '광역시', admin_parent: '', aliases: ['부산', '부산시'] },

    // 부산광역시 중구 (기초자치단체)
    { lat: 35.1032166666666, lon: 129.034508333333, name: '부산광역시 중구', kma_nx: 97, kma_ny: 74, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['중구'] },
    // 중구 하위 행정동 (legal_divisions 포함)
    { lat: 35.0981861111111, lon: 129.037588888888, name: '부산광역시 중구 중앙동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['중앙동1가', '중앙동2가', '중앙동3가', '중앙동4가', '중앙동5가', '중앙동6가', '중앙동7가', '대교동1가', '대교동2가', '영주동'] },
    { lat: 35.1019333333333, lon: 129.036877777777, name: '부산광역시 중구 동광동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['동광동1가', '동광동2가', '동광동3가', '동광동4가', '동광동5가'] },
    { lat: 35.1011472222222, lon: 129.033333333333, name: '부산광역시 중구 대청동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['대청동1가', '대청동2가', '대청동3가', '대청동4가'] },
    { lat: 35.1007027777777, lon: 129.027622222222, name: '부산광역시 중구 보수동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['보수동1가', '보수동2가', '보수동3가'] },
    { lat: 35.0972972222222, lon: 129.028797222222, name: '부산광역시 중구 부평동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['부평동1가', '부평동2가', '부평동3가', '부평동4가'] },
    { lat: 35.0968583333333, lon: 129.032752777777, name: '부산광역시 중구 광복동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['광복동1가', '광복동2가', '광복동3가', '남포동1가', '남포동2가', '남포동3가', '남포동4가', '남포동5가', '남포동6가'] },
    { lat: 35.0943055555555, lon: 129.034086111111, name: '부산광역시 중구 남포동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['남포동1가', '남포동2가', '남포동3가', '남포동4가', '남포동5가', '남포동6가'] }, // 광복동에 통합된 남포동 처리
    { lat: 35.1080472222222, lon: 129.037286111111, name: '부산광역시 중구 영주제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['영주동'] },
    { lat: 35.1085083333333, lon: 129.034033333333, name: '부산광역시 중구 영주제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 중구', legal_divisions: ['영주동'] },

    // 부산광역시 서구 (기초자치단체)
    { lat: 35.0948361111111, lon: 129.026377777777, name: '부산광역시 서구', kma_nx: 97, kma_ny: 74, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['서구'] },
    // 서구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1065361111111, lon: 129.022508333333, name: '부산광역시 서구 동대신제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['동대신동1가'] },
    { lat: 35.1098527777777, lon: 129.025430555555, name: '부산광역시 서구 동대신제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['동대신동2가'] },
    { lat: 35.1113388888888, lon: 129.019508333333, name: '부산광역시 서구 동대신제3동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['동대신동3가'] },
    { lat: 35.1080138888888, lon: 129.016675, name: '부산광역시 서구 서대신제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['서대신동1가'] },
    { lat: 35.1103666666666, lon: 129.014188888888, name: '부산광역시 서구 서대신제3동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['서대신동3가'] },
    { lat: 35.1160722222222, lon: 129.014833333333, name: '부산광역시 서구 서대신제4동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['서대신동2가', '서대신동3가'] }, // 2, 3가 일부 포함
    { lat: 35.1006861111111, lon: 129.020752777777, name: '부산광역시 서구 부민동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['부민동1가', '부민동2가', '부민동3가'] },
    { lat: 35.0970888888888, lon: 129.017686111111, name: '부산광역시 서구 아미동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['아미동1가', '아미동2가'] },
    { lat: 35.0928777777777, lon: 129.022563888888, name: '부산광역시 서구 초장동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['초장동'] },
    { lat: 35.0949361111111, lon: 129.023897222222, name: '부산광역시 서구 충무동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['충무동1가', '충무동2가'] },
    { lat: 35.0896583333333, lon: 129.025563888888, name: '부산광역시 서구 남부민제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['남부민동'] },
    { lat: 35.08155, lon: 129.021863888888, name: '부산광역시 서구 남부민제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['남부민동'] },
    { lat: 35.0769055555555, lon: 129.0236, name: '부산광역시 서구 암남동', kma_nx: 97, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 서구', legal_divisions: ['암남동'] },

    // 부산광역시 동구 (기초자치단체)
    { lat: 35.1358944444444, lon: 129.059175, name: '부산광역시 동구', kma_nx: 98, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['동구'] },
    // 동구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1108777777777, lon: 129.039188888888, name: '부산광역시 동구 초량제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['초량동'] },
    { lat: 35.1134472222222, lon: 129.0408, name: '부산광역시 동구 초량제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['초량동'] },
    { lat: 35.1181861111111, lon: 129.042066666666, name: '부산광역시 동구 초량제3동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['초량동'] },
    { lat: 35.1229083333333, lon: 129.036744444444, name: '부산광역시 동구 초량제6동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['초량동'] },
    { lat: 35.122275, lon: 129.044533333333, name: '부산광역시 동구 수정제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['수정동'] },
    { lat: 35.1252527777777, lon: 129.047263888888, name: '부산광역시 동구 수정제2동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['수정동'] },
    { lat: 35.1239972222222, lon: 129.042963888888, name: '부산광역시 동구 수정제4동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['수정동'] },
    { lat: 35.1307333333333, lon: 129.044688888888, name: '부산광역시 동구 수정제5동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['수정동'] },
    { lat: 35.1319861111111, lon: 129.052791666667, name: '부산광역시 동구 좌천동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['좌천동'] },
    { lat: 35.1362722222222, lon: 129.058308333333, name: '부산광역시 동구 범일제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['범일동'] },
    { lat: 35.1318722222222, lon: 129.061986111111, name: '부산광역시 동구 범일제2동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['범일동'] },
    { lat: 35.1273055555555, lon: 129.056019444444, name: '부산광역시 동구 범일제5동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 동구', legal_divisions: ['범일동'] },

    // 부산광역시 영도구 (기초자치단체)
    { lat: 35.0881166666666, lon: 129.070186111111, name: '부산광역시 영도구', kma_nx: 98, kma_ny: 74, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['영도구'] },
    // 영도구 하위 행정동 (legal_divisions 포함)
    { lat: 35.0867888888888, lon: 129.039852777777, name: '부산광역시 영도구 남항동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['남항동1가', '남항동2가', '남항동3가'] },
    { lat: 35.0871611111111, lon: 129.047033333333, name: '부산광역시 영도구 영선제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['영선동1가', '영선동2가'] },
    { lat: 35.08385, lon: 129.043641666666, name: '부산광역시 영도구 영선제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['영선동3가', '영선동4가'] },
    { lat: 35.0802444444444, lon: 129.047455555555, name: '부산광역시 영도구 신선동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['신선동1가', '신선동2가', '신선동3가'] },
    { lat: 35.0903916666666, lon: 129.046622222222, name: '부산광역시 영도구 봉래제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['봉래동1가', '봉래동2가', '봉래동3가', '봉래동4가', '봉래동5가'] },
    { lat: 35.0911083333333, lon: 129.048397222222, name: '부산광역시 영도구 봉래제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['봉래동', '청학동'] }, // 봉래동 전체 및 청학동 일부
    { lat: 35.0938333333333, lon: 129.060686111111, name: '부산광역시 영도구 청학제1동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['청학동'] },
    { lat: 35.088825, lon: 129.068030555555, name: '부산광역시 영도구 청학제2동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['청학동'] },
    { lat: 35.0717944444444, lon: 129.070708333333, name: '부산광역시 영도구 동삼제1동', kma_nx: 98, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['동삼동'] },
    { lat: 35.0647416666666, lon: 129.082922222222, name: '부산광역시 영도구 동삼제2동', kma_nx: 98, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['동삼동'] },
    { lat: 35.0815805555555, lon: 129.070922222222, name: '부산광역시 영도구 동삼제3동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 영도구', legal_divisions: ['동삼동'] },

    // 부산광역시 부산진구 (기초자치단체)
    { lat: 35.1599527777777, lon: 129.055319444444, name: '부산광역시 부산진구', kma_nx: 97, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['부산진구'] },
    // 부산진구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1572583333333, lon: 129.060922222222, name: '부산광역시 부산진구 부전제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['부전동'] },
    { lat: 35.1495222222222, lon: 129.059075, name: '부산광역시 부산진구 부전제2동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['부전동'] },
    { lat: 35.1697138888888, lon: 129.055008333333, name: '부산광역시 부산진구 연지동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['연지동'] },
    { lat: 35.175625, lon: 129.049833333333, name: '부산광역시 부산진구 초읍동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['초읍동'] },
    { lat: 35.1713972222222, lon: 129.066655555555, name: '부산광역시 부산진구 양정제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['양정동'] },
    { lat: 35.1697805555555, lon: 129.077988888888, name: '부산광역시 부산진구 양정제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['양정동'] },
    { lat: 35.1512694444444, lon: 129.069622222222, name: '부산광역시 부산진구 전포제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['전포동'] },
    { lat: 35.1586305555555, lon: 129.068444444444, name: '부산광역시 부산진구 전포제2동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['전포동'] },
    { lat: 35.1604611111111, lon: 129.051777777777, name: '부산광역시 부산진구 부암제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['부암동'] },
    { lat: 35.1659222222222, lon: 129.042055555555, name: '부산광역시 부산진구 부암제3동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['부암동'] },
    { lat: 35.1597, lon: 129.042366666666, name: '부산광역시 부산진구 당감제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['당감동'] },
    { lat: 35.1548888888888, lon: 129.050277777777, name: '부산광역시 부산진구 당감제2동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['당감동'] },
    { lat: 35.1649138888888, lon: 129.038797222222, name: '부산광역시 부산진구 당감제4동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['당감동'] },
    { lat: 35.1519111111111, lon: 129.044052777777, name: '부산광역시 부산진구 가야제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['가야동'] },
    { lat: 35.1466805555555, lon: 129.031288888888, name: '부산광역시 부산진구 가야제2동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['가야동'] },
    { lat: 35.1495666666666, lon: 129.024175, name: '부산광역시 부산진구 개금제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['개금동'] },
    { lat: 35.1417055555555, lon: 129.021688888888, name: '부산광역시 부산진구 개금제2동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['개금동'] },
    { lat: 35.1526861111111, lon: 129.024222222222, name: '부산광역시 부산진구 개금제3동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['개금동'] },
    { lat: 35.14385, lon: 129.0633, name: '부산광역시 부산진구 범천제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['범천동'] },
    { lat: 35.1432777777777, lon: 129.058397222222, name: '부산광역시 부산진구 범천제2동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 부산진구', legal_divisions: ['범천동'] },

    // 부산광역시 동래구 (기초자치단체)
    { lat: 35.2018722222222, lon: 129.085855555555, name: '부산광역시 동래구', kma_nx: 98, kma_ny: 76, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['동래구'] },
    // 동래구 하위 행정동 (legal_divisions 포함)
    { lat: 35.192975, lon: 129.093388888888, name: '부산광역시 동래구 수민동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['수안동', '복천동', '낙민동', '칠산동', '명륜동'] }, // 수안동, 복천동, 낙민동, 칠산동
    { lat: 35.2027083333333, lon: 129.088375, name: '부산광역시 동래구 복산동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['복산동', '명륜동'] },
    { lat: 35.2124914, lon: 129.081561, name: '부산광역시 동래구 명륜동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['명륜동'] },
    { lat: 35.2169666666666, lon: 129.082386111111, name: '부산광역시 동래구 온천제1동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['온천동'] },
    { lat: 35.2048833333333, lon: 129.075252777777, name: '부산광역시 동래구 온천제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['온천동'] },
    { lat: 35.2018666666666, lon: 129.068552777777, name: '부산광역시 동래구 온천제3동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['온천동'] },
    { lat: 35.1959333333333, lon: 129.064344444444, name: '부산광역시 동래구 사직제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['사직동'] },
    { lat: 35.1971749999999, lon: 129.059166666666, name: '부산광역시 동래구 사직제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['사직동'] },
    { lat: 35.1963888888888, lon: 129.071722222222, name: '부산광역시 동래구 사직제3동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['사직동'] },
    { lat: 35.1940472222222, lon: 129.100911111111, name: '부산광역시 동래구 안락제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['안락동'] },
    { lat: 35.1946444444444, lon: 129.112311111111, name: '부산광역시 동래구 안락제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['안락동'] },
    { lat: 35.2015805555555, lon: 129.106499999999, name: '부산광역시 동래구 명장제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['명장동'] },
    { lat: 35.2048666666666, lon: 129.104655555555, name: '부산광역시 동래구 명장제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 동래구', legal_divisions: ['명장동'] },

    // 부산광역시 남구 (기초자치단체)
    { lat: 35.1334083333333, lon: 129.0865, name: '부산광역시 남구', kma_nx: 98, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['남구'] },
    // 남구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1314638888888, lon: 129.095719444444, name: '부산광역시 남구 대연제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['대연동'] },
    { lat: 35.1316361111111, lon: 129.102577777777, name: '부산광역시 남구 대연제3동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['대연동'] },
    { lat: 35.1267111111111, lon: 129.093619444444, name: '부산광역시 남구 대연제4동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['대연동'] },
    { lat: 35.1353694444444, lon: 129.092488888888, name: '부산광역시 남구 대연제5동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['대연동'] },
    { lat: 35.1318666666666, lon: 129.085841666666, name: '부산광역시 남구 대연제6동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['대연동'] },
    { lat: 35.1177138888888, lon: 129.111297222222, name: '부산광역시 남구 용호제1동', kma_nx: 99, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['용호동'] },
    { lat: 35.11175, lon: 129.115686111111, name: '부산광역시 남구 용호제2동', kma_nx: 99, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['용호동'] },
    { lat: 35.1179222222222, lon: 129.115063888888, name: '부산광역시 남구 용호제3동', kma_nx: 99, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['용호동'] },
    { lat: 35.1101444444444, lon: 129.112663888888, name: '부산광역시 남구 용호제4동', kma_nx: 99, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['용호동'] },
    { lat: 35.1144111111111, lon: 129.097455555555, name: '부산광역시 남구 용당동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['용당동'] },
    { lat: 35.1137888888888, lon: 129.082888888888, name: '부산광역시 남구 감만제1동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['감만동'] },
    { lat: 35.1194583333333, lon: 129.086777777777, name: '부산광역시 남구 감만제2동', kma_nx: 98, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['감만동'] },
    { lat: 35.12499999, lon: 129.0758507, name: '부산광역시 남구 우암동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['우암동'] },
    { lat: 35.1393944444444, lon: 129.073577777777, name: '부산광역시 남구 문현제1동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['문현동'] },
    { lat: 35.1422222222222, lon: 129.070997222222, name: '부산광역시 남구 문현제2동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['문현동'] },
    { lat: 35.1351222222222, lon: 129.073919444444, name: '부산광역시 남구 문현제3동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['문현동'] },
    { lat: 35.1330305555555, lon: 129.0712, name: '부산광역시 남구 문현제4동', kma_nx: 98, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 남구', legal_divisions: ['문현동'] },

    // 부산광역시 북구 (기초자치단체)
    { lat: 35.1941805555555, lon: 128.992474999999, name: '부산광역시 북구', kma_nx: 96, kma_ny: 76, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['북구'] },
    // 북구 하위 행정동 (legal_divisions 포함)
    { lat: 35.2033694444444, lon: 129.003411111111, name: '부산광역시 북구 구포제1동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['구포동'] },
    { lat: 35.1996361111111, lon: 129.000244444444, name: '부산광역시 북구 구포제2동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['구포동'] },
    { lat: 35.1917583333333, lon: 129.011044444444, name: '부산광역시 북구 구포제3동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['구포동'] },
    { lat: 35.2470055555555, lon: 129.015088888888, name: '부산광역시 북구 금곡동', kma_nx: 97, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['금곡동'] },
    { lat: 35.2216944444444, lon: 129.012466666666, name: '부산광역시 북구 화명제1동', kma_nx: 97, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['화명동'] },
    { lat: 35.240525, lon: 129.022022222222, name: '부산광역시 북구 화명제2동', kma_nx: 97, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['화명동'] },
    { lat: 35.2287722222222, lon: 129.012333333333, name: '부산광역시 북구 화명제3동', kma_nx: 97, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['화명동'] },
    { lat: 35.2093888888888, lon: 129.019019444444, name: '부산광역시 북구 덕천제1동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['덕천동'] },
    { lat: 35.2092666666666, lon: 129.010244444444, name: '부산광역시 북구 덕천제2동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['덕천동'] },
    { lat: 35.2068194444444, lon: 129.019697222222, name: '부산광역시 북구 덕천제3동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['덕천동'] },
    { lat: 35.2103666666666, lon: 129.038519444444, name: '부산광역시 북구 만덕제1동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['만덕동'] },
    { lat: 35.2071194444444, lon: 129.039466666666, name: '부산광역시 북구 만덕제2동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['만덕동'] },
    { lat: 35.2083083333333, lon: 129.031397222222, name: '부산광역시 북구 만덕제3동', kma_nx: 97, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 북구', legal_divisions: ['만덕동'] },

    // 부산광역시 해운대구 (기초자치단체)
    { lat: 35.1600194444444, lon: 129.165808333333, name: '부산광역시 해운대구', kma_nx: 99, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['해운대구'] },
    // 해운대구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1598111111111, lon: 129.160286111111, name: '부산광역시 해운대구 우제1동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['우동'] },
    { lat: 35.1681555555555, lon: 129.142211111111, name: '부산광역시 해운대구 우제2동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['우동'] },
    { lat: 35.1592915, lon: 129.1424022, name: '부산광역시 해운대구 우제3동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['우동'] },
    { lat: 35.1594583333333, lon: 129.166477777777, name: '부산광역시 해운대구 중제1동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['중동'] },
    { lat: 35.1587972222222, lon: 129.182108333333, name: '부산광역시 해운대구 중제2동', kma_nx: 100, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['중동'] },
    { lat: 35.1678222222222, lon: 129.176552777777, name: '부산광역시 해운대구 좌제1동', kma_nx: 100, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['좌동'] },
    { lat: 35.1660611111111, lon: 129.184919444444, name: '부산광역시 해운대구 좌제2동', kma_nx: 100, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['좌동'] },
    { lat: 35.1692638888888, lon: 129.168986111111, name: '부산광역시 해운대구 좌제3동', kma_nx: 100, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['좌동'] },
    { lat: 35.1748666666666, lon: 129.178477777777, name: '부산광역시 해운대구 좌제4동', kma_nx: 100, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['좌동'] },
    { lat: 35.1805611111111, lon: 129.205897222222, name: '부산광역시 해운대구 송정동', kma_nx: 100, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['송정동'] },
    { lat: 35.1980555555555, lon: 129.121188888888, name: '부산광역시 해운대구 반여제1동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반여동'] },
    { lat: 35.1928305555555, lon: 129.132352777777, name: '부산광역시 해운대구 반여제2동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반여동'] },
    { lat: 35.1980055555555, lon: 129.135699999999, name: '부산광역시 해운대구 반여제3동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반여동'] },
    { lat: 35.2061027777777, lon: 129.119344444444, name: '부산광역시 해운대구 반여제4동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반여동'] },
    { lat: 35.2220527777777, lon: 129.150008333333, name: '부산광역시 해운대구 반송제1동', kma_nx: 99, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반송동'] },
    { lat: 35.2257638888888, lon: 129.162697222222, name: '부산광역시 해운대구 반송제2동', kma_nx: 99, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['반송동'] },
    { lat: 35.1808638888888, lon: 129.125644444444, name: '부산광역시 해운대구 재송제1동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['재송동'] },
    { lat: 35.18655, lon: 129.127719444444, name: '부산광역시 해운대구 재송제2동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 해운대구', legal_divisions: ['재송동'] },

    // 부산광역시 사하구 (기초자치단체)
    { lat: 35.1014277777777, lon: 128.977041666666, name: '부산광역시 사하구', kma_nx: 96, kma_ny: 74, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['사하구'] },
    // 사하구 하위 행정동 (legal_divisions 포함)
    { lat: 35.0965027777777, lon: 128.991622222222, name: '부산광역시 사하구 괴정제1동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['괴정동'] },
    { lat: 35.1004305555555, lon: 129.006275, name: '부산광역시 사하구 괴정제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['괴정동'] },
    { lat: 35.0972111111111, lon: 129.000422222222, name: '부산광역시 사하구 괴정제3동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['괴정동'] },
    { lat: 35.0960166666666, lon: 128.9854, name: '부산광역시 사하구 괴정제4동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['괴정동'] },
    { lat: 35.0998444444444, lon: 128.978930555555, name: '부산광역시 사하구 당리동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['당리동'] },
    { lat: 35.1008333333333, lon: 128.966533333333, name: '부산광역시 사하구 하단제1동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['하단동'] },
    { lat: 35.1114333333333, lon: 128.962686111111, name: '부산광역시 사하구 하단제2동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['하단동'] },
    { lat: 35.0869138888888, lon: 128.976575, name: '부산광역시 사하구 신평제1동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['신평동'] },
    { lat: 35.0915333333333, lon: 128.961633333333, name: '부산광역시 사하구 신평제2동', kma_nx: 96, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['신평동'] },
    { lat: 35.0798194444444, lon: 128.969141666666, name: '부산광역시 사하구 장림제1동', kma_nx: 96, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['장림동'] },
    { lat: 35.0747277777777, lon: 128.974844444444, name: '부산광역시 사하구 장림제2동', kma_nx: 96, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['장림동'] },
    { lat: 35.0561027777777, lon: 128.973577777777, name: '부산광역시 사하구 다대제1동', kma_nx: 96, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['다대동'] },
    { lat: 35.0603222222222, lon: 128.984433333333, name: '부산광역시 사하구 다대제2동', kma_nx: 96, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['다대동'] },
    { lat: 35.0788194444444, lon: 128.990041666666, name: '부산광역시 사하구 구평동', kma_nx: 96, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['구평동'] },
    { lat: 35.0849055555555, lon: 129.006911111111, name: '부산광역시 사하구 감천제1동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['감천동'] },
    { lat: 35.091525, lon: 129.0116, name: '부산광역시 사하구 감천제2동', kma_nx: 97, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 사하구', legal_divisions: ['감천동'] },

    // 부산광역시 금정구 (기초자치단체)
    { lat: 35.2400777777777, lon: 129.094319444444, name: '부산광역시 금정구', kma_nx: 98, kma_ny: 77, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['금정구'] },
    // 금정구 하위 행정동 (legal_divisions 포함)
    { lat: 35.2152611111111, lon: 129.101397222222, name: '부산광역시 금정구 서제1동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['서동'] },
    { lat: 35.2097805555555, lon: 129.106933333333, name: '부산광역시 금정구 서제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['서동'] },
    { lat: 35.212375, lon: 129.109730555555, name: '부산광역시 금정구 서제3동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['서동'] },
    { lat: 35.2172361111111, lon: 129.113375, name: '부산광역시 금정구 금사회동동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['금사동', '회동동'] },
    { lat: 35.22135, lon: 129.0944, name: '부산광역시 금정구 부곡제1동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['부곡동'] },
    { lat: 35.2267277777777, lon: 129.095, name: '부산광역시 금정구 부곡제2동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['부곡동'] },
    { lat: 35.2374055555555, lon: 129.096133333333, name: '부산광역시 금정구 부곡제3동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['부곡동'] },
    { lat: 35.2168138888888, lon: 129.090875, name: '부산광역시 금정구 부곡제4동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['부곡동'] },
    { lat: 35.2346666666666, lon: 129.087211111111, name: '부산광역시 금정구 장전제1동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['장전동'] },
    { lat: 35.2225305555555, lon: 129.084377777777, name: '부산광역시 금정구 장전제2동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['장전동'] },
    { lat: 35.2952083333333, lon: 129.115597222222, name: '부산광역시 금정구 선두구동', kma_nx: 98, kma_ny: 78, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['선동', '두구동'] },
    { lat: 35.27205, lon: 129.092055555555, name: '부산광역시 금정구 청룡노포동', kma_nx: 98, kma_ny: 78, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['청룡동', '노포동'] },
    { lat: 35.2685555555555, lon: 129.094622222222, name: '부산광역시 금정구 남산동', kma_nx: 98, kma_ny: 78, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['남산동'] },
    { lat: 35.2419916666666, lon: 129.089230555555, name: '부산광역시 금정구 구서제1동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['구서동'] },
    { lat: 35.2520833333333, lon: 129.092888888888, name: '부산광역시 금정구 구서제2동', kma_nx: 98, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['구서동'] },
    { lat: 35.2472527777777, lon: 129.058341666666, name: '부산광역시 금정구 금성동', kma_nx: 97, kma_ny: 77, type: '행정동', admin_parent: '부산광역시 금정구', legal_divisions: ['금성동'] },

    // 부산광역시 강서구 (기초자치단체)
    { lat: 35.2091638888888, lon: 128.982908333333, name: '부산광역시 강서구', kma_nx: 96, kma_ny: 76, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['강서구'] },
    // 강서구 하위 행정동 (legal_divisions 포함)
    { lat: 35.2113944444444, lon: 128.982855555555, name: '부산광역시 강서구 대저1동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['대저1동'] },
    { lat: 35.1753944444444, lon: 128.9587, name: '부산광역시 강서구 대저2동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['대저2동'] },
    { lat: 35.2114638888888, lon: 128.937508333333, name: '부산광역시 강서구 강동동', kma_nx: 95, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['강동동'] },
    { lat: 35.108091, lon: 128.926502, name: '부산광역시 강서구 명지1동', kma_nx: 95, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['명지동'] },
    { lat: 35.084587, lon: 128.899758, name: '부산광역시 강서구 명지2동', kma_nx: 95, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['명지동'] },
    { lat: 35.1933166666666, lon: 128.904075, name: '부산광역시 강서구 가락동', kma_nx: 95, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['죽림동', '식만동', '봉림동', '가락동'] },
    { lat: 35.1234638888888, lon: 128.860808333333, name: '부산광역시 강서구 녹산동', kma_nx: 94, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['녹산동', '송정동', '화전동', '생곡동', '구랑동', '지사동', '범방동', '미음동'] },
    { lat: 35.0526166666667, lon: 128.814033333333, name: '부산광역시 강서구 가덕도동', kma_nx: 93, kma_ny: 73, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['천성동', '대항동', '동선동', '성북동', '눌차동', '천가동'] },
    { lat: 35.085443537101, lon: 128.879107082157, name: '부산광역시 강서구 신호동', kma_nx: 94, kma_ny: 74, type: '행정동', admin_parent: '부산광역시 강서구', legal_divisions: ['신호동'] },

    // 부산광역시 연제구 (기초자치단체)
    { lat: 35.1731861111111, lon: 129.082075, name: '부산광역시 연제구', kma_nx: 98, kma_ny: 76, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['연제구'] },
    // 연제구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1917194444444, lon: 129.083022222222, name: '부산광역시 연제구 거제제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['거제동'] },
    { lat: 35.1845722222222, lon: 129.072541666666, name: '부산광역시 연제구 거제제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['거제동'] },
    { lat: 35.1810333333333, lon: 129.075308333333, name: '부산광역시 연제구 거제제3동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['거제동'] },
    { lat: 35.1761305555555, lon: 129.070022222222, name: '부산광역시 연제구 거제제4동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['거제동'] },
    { lat: 35.1858777777777, lon: 129.093844444444, name: '부산광역시 연제구 연산제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1768333333333, lon: 129.081575, name: '부산광역시 연제구 연산제2동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1702694444444, lon: 129.096511111111, name: '부산광역시 연제구 연산제3동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1832166666666, lon: 129.087155555555, name: '부산광역시 연제구 연산제4동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1814194444444, lon: 129.078355555555, name: '부산광역시 연제구 연산제5동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1757722222222, lon: 129.087941666666, name: '부산광역시 연제구 연산제6동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1840333333333, lon: 129.103333333333, name: '부산광역시 연제구 연산제8동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },
    { lat: 35.1855472222222, lon: 129.107197222222, name: '부산광역시 연제구 연산제9동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 연제구', legal_divisions: ['연산동'] },

    // 부산광역시 수영구 (기초자치단체)
    { lat: 35.1424666666666, lon: 129.115375, name: '부산광역시 수영구', kma_nx: 99, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['수영구'] },
    // 수영구 하위 행정동 (legal_divisions 포함)
    { lat: 35.139575, lon: 129.112597222222, name: '부산광역시 수영구 남천제1동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['남천동'] },
    { lat: 35.1407527777777, lon: 129.116986111111, name: '부산광역시 수영구 남천제2동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['남천동'] },
    { lat: 35.1673583333333, lon: 129.118288888888, name: '부산광역시 수영구 수영동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['수영동'] },
    { lat: 35.1713555555555, lon: 129.103241666666, name: '부산광역시 수영구 망미제1동', kma_nx: 98, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['망미동'] },
    { lat: 35.1721527777777, lon: 129.117541666666, name: '부산광역시 수영구 망미제2동', kma_nx: 99, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['망미동'] },
    { lat: 35.1598666666666, lon: 129.114730555555, name: '부산광역시 수영구 광안제1동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['광안동'] },
    { lat: 35.1506777777777, lon: 129.114866666666, name: '부산광역시 수영구 광안제2동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['광안동'] },
    { lat: 35.1648222222222, lon: 129.115855555555, name: '부산광역시 수영구 광안제3동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['광안동'] },
    { lat: 35.1519666666666, lon: 129.113666666666, name: '부산광역시 수영구 광안제4동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['광안동'] },
    { lat: 35.1541666666666, lon: 129.127677777777, name: '부산광역시 수영구 민락동', kma_nx: 99, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 수영구', legal_divisions: ['민락동'] },

    // 부산광역시 사상구 (기초자치단체)
    { lat: 35.1494666666666, lon: 128.993333333333, name: '부산광역시 사상구', kma_nx: 96, kma_ny: 75, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['사상구'] },
    // 사상구 하위 행정동 (legal_divisions 포함)
    { lat: 35.1738944444444, lon: 128.979966666666, name: '부산광역시 사상구 삼락동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['삼락동'] },
    { lat: 35.1845361111111, lon: 128.989688888888, name: '부산광역시 사상구 모라제1동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['모라동'] },
    { lat: 35.1815583333333, lon: 128.998333333333, name: '부산광역시 사상구 모라제3동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['모라동'] },
    { lat: 35.1672833333333, lon: 128.985530555555, name: '부산광역시 사상구 덕포제1동', kma_nx: 96, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['덕포동'] },
    { lat: 35.1713805555555, lon: 128.985177777777, name: '부산광역시 사상구 덕포제2동', kma_nx: 96, kma_ny: 76, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['덕포동'] },
    { lat: 35.1606722222222, lon: 128.989444444444, name: '부산광역시 사상구 괘법동', kma_nx: 96, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['괘법동'] },
    { lat: 35.1512333333333, lon: 128.981708333333, name: '부산광역시 사상구 감전동', kma_nx: 96, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['감전동'] },
    { lat: 35.1486194444444, lon: 129.000144444444, name: '부산광역시 사상구 주례제1동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['주례동'] },
    { lat: 35.1469888888888, lon: 129.012733333333, name: '부산광역시 사상구 주례제2동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['주례동'] },
    { lat: 35.1442888888888, lon: 129.003722222222, name: '부산광역시 사상구 주례제3동', kma_nx: 97, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['주례동'] },
    { lat: 35.1409916666666, lon: 128.989677777777, name: '부산광역시 사상구 학장동', kma_nx: 96, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['학장동'] },
    { lat: 35.1256, lon: 128.974444444444, name: '부산광역시 사상구 엄궁동', kma_nx: 96, kma_ny: 75, type: '행정동', admin_parent: '부산광역시 사상구', legal_divisions: ['엄궁동'] },

    // 부산광역시 기장군 (기초자치단체)
    { lat: 35.24135, lon: 129.224475, name: '부산광역시 기장군', kma_nx: 100, kma_ny: 77, type: '기초자치단체', admin_parent: '부산광역시', aliases: ['기장군'] },
    // 기장군 하위 읍/면 (legal_divisions 포함)
    { lat: 35.2356027777777, lon: 129.218177777777, name: '부산광역시 기장군 기장읍', kma_nx: 100, kma_ny: 77, type: '읍', admin_parent: '부산광역시 기장군', legal_divisions: ['대라리', '동부리', '서부리', '죽성리', '연화리', '대변리', '청강리', '시랑리', '만화리', '석산리', '교리', '대룡리', '용소리'] },
    { lat: 35.3107027777777, lon: 129.246288888888, name: '부산광역시 기장군 장안읍', kma_nx: 101, kma_ny: 79, type: '읍', admin_parent: '부산광역시 기장군', legal_divisions: ['좌천리', '임랑리', '길천리', '반룡리', '명례리', '월내리', '덕선리', '오리', '장안리'] },
    { lat: 35.322375, lon: 129.182677777777, name: '부산광역시 기장군 정관읍', kma_nx: 100, kma_ny: 79, type: '읍', admin_parent: '부산광역시 기장군', legal_divisions: ['정관리', '달산리', '병산리', '방곡리', '용수리', '모전리', '임곡리', '과정리', '예림리', '매학리', '월평리', '두명리', '곰내리'] },
    { lat: 35.2639371829939, lon: 129.23228251585, name: '부산광역시 기장군 일광읍', kma_nx: 101, kma_ny: 78, type: '읍', admin_parent: '부산광역시 기장군', legal_divisions: ['삼성리', '원리', '이천리', '문동리', '학리', '동백리', '칠암리', '신평리', '용천리', '횡계리'] },
    { lat: 35.2721972222222, lon: 129.152022222222, name: '부산광역시 기장군 철마면', kma_nx: 99, kma_ny: 78, type: '면', admin_parent: '부산광역시 기장군', legal_divisions: ['송정리', '웅천리', '이곡리', '구칠리', '연구리', '와여리', '장전리', '고촌리', '임기리', '백길리', '안평리'] }
];



// 이 데이터를 외부에서 사용할 수 있도록 내보냅니다.
// CommonJS 환경을 가정하고 작성합니다.
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        locationData: locationData,
        latLonToGrid: latLonToGrid
    };
}









    
    // 데이터 로드 확인용 통계 및 메타데이터
    const METADATA = {
        totalLocations: Object.keys(data).length,
        lastUpdated: new Date().toISOString(),
        coverage: {
            cities: new Set(Object.values(data).filter(loc => loc.type === '광역자치단체' || loc.type === '기초자치단체').map(loc => loc.name)).size,
            adminDivisions: new Set(Object.values(data).filter(loc => loc.type === '행정동' || loc.type === '읍' || loc.type === '면').map(loc => loc.name)).size
        }
    };

    return {
        locationData: data, // 실제 데이터 객체
        latLonToGrid,
        
        /**
         * 검색어를 기반으로 지역을 검색하고 페이지네이션을 적용합니다.
         * @param {string} searchTerm - 검색어
         * @param {number} page - 요청 페이지 번호 (1부터 시작)
         * @param {number} pageSize - 페이지당 항목 수
         * @returns {{results: Array<Object>, pagination: Object}} 검색 결과 및 페이지네이션 정보
         */
        searchLocations: (searchTerm, page = 1, pageSize = 10) => {
            const normalizedSearch = searchTerm.trim().toLowerCase();
            const filtered = [];

            // 먼저 모든 매칭되는 지역을 찾고, priority_score로 정렬 (findAllMatches와 유사)
            for (const key in data) {
                const location = data[key];
                const keyLower = key.toLowerCase();
                const nameLower = location.name.toLowerCase();

                if (nameLower.includes(normalizedSearch) ||
                    keyLower.includes(normalizedSearch) ||
                    (location.aliases && location.aliases.some(alias => alias.toLowerCase().includes(normalizedSearch))) ||
                    (location.legal_divisions && location.legal_divisions.some(ld => ld.toLowerCase().includes(normalizedSearch)))
                ) {
                    filtered.push({ ...location, key: key, priority: location.priority_score || 0 });
                }
            }

            // 우선순위가 높은 순으로 정렬
            filtered.sort((a, b) => b.priority - a.priority);

            const totalResults = filtered.length;
            const totalPages = Math.ceil(totalResults / pageSize);
            const startIndex = (page - 1) * pageSize;
            const endIndex = startIndex + pageSize;

            const results = filtered.slice(startIndex, endIndex);

            return {
                results: results,
                pagination: {
                    currentPage: page,
                    pageSize: pageSize,
                    totalResults: totalResults,
                    totalPages: totalPages
                }
            };
        },

        /**
         * 좌표에 가장 가까운 행정 구역을 찾습니다. (간단한 근접성 판단)
         * 이 함수는 정밀한 지리 공간 분석이 아닌, 가장 가까운 `locationData` 항목을 찾습니다.
         * @param {{lat: number, lon: number}} coords - 위도 및 경도
         * @returns {Object|null} 가장 가까운 지역 객체 또는 null
         */
        findMatchingLocation: (coords) => {
            let closestLocation = null;
            let minDistance = Infinity;

            for (const key in data) {
                const loc = data[key];
                // 광역/기초자치단체, 행정동, 읍, 면만 대상 (관광지 등은 제외)
                if (loc.type && ['광역자치단체', '기초자치단체', '행정동', '읍', '면'].includes(loc.type)) {
                    const distance = Math.sqrt(
                        Math.pow(coords.lat - loc.lat, 2) +
                        Math.pow(coords.lon - loc.lon, 2)
                    );

                    // 거리가 같을 경우 priority_score가 높은 것을 선택
                    if (distance < minDistance || (distance === minDistance && loc.priority_score > (closestLocation ? closestLocation.priority_score : 0))) {
                        minDistance = distance;
                        closestLocation = loc;
                    }
                }
            }
            return closestLocation;
        },

        /**
         * 검색어를 기반으로 매칭되는 모든 지역을 찾고 우선순위에 따라 정렬합니다.
         * 이 함수는 searchLocations와 유사하지만, 페이지네이션 없이 모든 매칭 결과를 반환합니다.
         * @param {string} searchTerm - 검색어
         * @returns {Array<Object>} 매칭되는 지역 객체 배열
         */
        findAllMatches: (searchTerm) => {
            const normalizedSearch = searchTerm.trim().toLowerCase();
            const matches = [];

            for (const key in data) {
                const location = data[key];
                const keyLower = key.toLowerCase();
                const nameLower = location.name.toLowerCase();

                // 이름, 키 또는 별칭, 법정동/리 목록에 검색어가 포함되는 경우
                if (nameLower.includes(normalizedSearch) ||
                    keyLower.includes(normalizedSearch) ||
                    (location.aliases && location.aliases.some(alias => alias.toLowerCase().includes(normalizedSearch))) ||
                    (location.legal_divisions && location.legal_divisions.some(ld => ld.toLowerCase().includes(normalizedSearch)))
                ) {
                    // 깊은 복사를 통해 원본 객체 변경 방지 및 `key`와 `priority` 추가
                    matches.push({ ...location, key: key, priority: location.priority_score || 0 });
                }
            }

            // 우선순위가 높은 순으로 정렬
            return matches.sort((a, b) => {
                const priorityA = a.priority_score !== undefined ? a.priority_score : 0;
                const priorityB = b.priority_score !== undefined ? b.priority_score : 0;

                if (priorityA !== priorityB) {
                    return priorityB - priorityA;
                }
                // 우선순위가 같으면 이름으로 정렬
                return a.name.localeCompare(b.name);
            });
        },

        // 기타 유틸리티 함수 (예: 통계, 메타데이터 등)
        getStatistics: () => {
            let totalLocations = Object.keys(data).length;
            let byType = {};
            let byLevel = {};

            for (const key in data) {
                const loc = data[key];
                byType[loc.type] = (byType[loc.type] || 0) + 1;
                // '시', '군', '구', '읍', '면', '동', '리' 등으로 분류 가능
                const lastWord = loc.name.split(' ').pop();
                byLevel[lastWord] = (byLevel[lastWord] || 0) + 1;
            }

            return { totalLocations, byType, byLevel };
        },
        getMetadata: () => METADATA,
        // (필요 시) 메타데이터 업데이트 함수 등 추가 가능
    };
})(); // 즉시 실행 함수로 locationData 객체 생성 및 초기화

// CommonJS 모듈 내보내기
module.exports = locationData;
